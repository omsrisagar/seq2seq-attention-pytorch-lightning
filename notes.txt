dm = datamodule
lm = lightingmodule

Order:
dm.prepare_data (may not be called by pl, you need to call it)
dm.setup (ditto)

lm.configure_optimizers


dm.val_dataloader
	dataset._getitem_
dm.train_dataloader
dm._collate_fn_	

dm.validation_step x2 

dm.train_dataloader x num_train_batches (len(train_dataloader/batch_size))
	--> interspersed with dm.validation_step x num_val_batches as per validation_interval (something like that)
-->final dm.validation_step x num_val_batches


Check this:
if sos token needs to be prepended in the input
teacher_force=0.5 by default, see if you need to modify
plfunc.accuracy crudely matches labels and preds even for masked 0 indices in the target. ideally it should stop after EOS token in prediction.



7/2/2024
within create_mask and after:
	eos_indices return with length adjusted
	chnage order of if from_eos with for loop

